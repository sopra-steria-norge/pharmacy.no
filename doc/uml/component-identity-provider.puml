@startuml

actor Apotekansatt
frame Kjedesystem {
    node IdP as "Identity Provider"
    node POS as "Ekspedisjon"
}

Apotekansatt -down-> POS: UtfÃ¸r operasjon
POS -> IdP: SSO hent \nid_token for DIFA


frame BransjelÃ¸sningen {
    node DIFA as "DIFA API"
}

frame "Norsk medisinnett" {
    node RF as "Reseptformidleren"
    node Personregister
    node HELFO
}

POS -> DIFA: API kall med id_token
DIFA -> IdP: Valider token
DIFA -> RF
DIFA -> HELFO
DIFA -> Personregister

@enduml